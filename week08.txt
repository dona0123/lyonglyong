
Hook
Hookì€ React ë²„ì „ 16.8ë¶€í„° React ìš”ì†Œë¡œ ìƒˆë¡œ ì¶”ê°€ë˜ì—ˆë‹¤. Hookì„ ì´ìš©í•˜ì—¬ ê¸°ì¡´ Class ë°”íƒ•ì˜ ì½”ë“œë¥¼ ì‘ì„±í•  í•„ìš” ì—†ì´ ìƒíƒœ ê°’ê³¼ ì—¬ëŸ¬ Reactì˜ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. 





useState

ê°€ì¥ ê¸°ë³¸ì ì¸ Hookìœ¼ë¡œ, í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ì—ì„œë„ ê°€ë³€ì ì¸ ìƒíƒœë¥¼ ì§€ë‹ ìˆ˜ ìˆê²Œ í•´ ì¤€ë‹¤. 



ğŸ“Œì‚¬ìš©ë²•

const [ë³€ìˆ˜ëª…, setí•¨ìˆ˜ëª…] = useState(ì´ˆê¸°ê°’); 


useState ê¸°ëŠ¥ì„ ì‚¬ìš©í•œ ìˆ«ì ì¹´ìš´í„° êµ¬í˜„

import React, { useState } from 'react';
 
const Counter = () => {
  const [value, setValue] = useState(0);
 
  return (
    <div>
      <p>
        í˜„ì¬ ì¹´ìš´í„° ê°’ì€ <b>{value}</b>ì…ë‹ˆë‹¤.
      </p>
      <button onClick={() => setValue(value + 1)}>+1</button>
      <button onClick={() => setValue(value - 1)}>-1</button>
    </div>
  );
};

export default Counter;




useEffect

Side effectë¥¼ ìˆ˜í–‰í•˜ê¸° ìœ„í•œ Hookìœ¼ë¡œ, ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ë  ë•Œë§ˆë‹¤ íŠ¹ì • ì‘ì—…ì„ ìˆ˜í–‰í•˜ë„ë¡ ì„¤ì •í•  ìˆ˜ ìˆê²Œ í•œë‹¤.

ë˜í•œ, ìƒëª… ì£¼ê¸° í•¨ìˆ˜ì™€ ë™ì¼í•œ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤. 



ğŸ“Œ Side effect

ë¦¬ì•¡íŠ¸ì—ì„œì˜ ì‚¬ì´ë“œ ì´í™íŠ¸ëŠ” ê·¸ëƒ¥ íš¨ê³¼&ì˜í–¥ì„ ëœ»í•˜ëŠ” ê²ƒì— ê°€ê¹ë‹¤.  

ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ì— ì˜í–¥ì„ ë¯¸ì¹  ìˆ˜ ìˆê³ , ë Œë”ë§ ì¤‘ì—ëŠ” ì‘ì—…ì´ ì™„ë£Œë  ìˆ˜ ì—†ë‹¤.

ë Œë”ë§ì´ ëë‚œ ì´í›„ì— ì‹¤í–‰ë˜ì–´ì•¼ í•˜ëŠ” ì‘ì—…ë“¤ì´, ì‚¬ì´ë“œë¡œ ì‹¤í–‰ëœë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤. 



ğŸ“Œì‚¬ìš©ë²•

- ë°°ì—´ì˜ ê°’ì´ ë³€ê²½ë˜ì—ˆì„ ë•Œ, ì´í™íŠ¸ í•¨ìˆ˜ê°€ ì‹¤í–‰ëœë‹¤. 

ì´í™íŠ¸ í•¨ìˆ˜ëŠ” ì²˜ìŒ ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ ëœ ì´í›„, ì—…ë°ì´íŠ¸ë¡œ ì¸í•œ ì¬ë Œë”ë§ ì´í›„ì— ì‹¤í–‰ëœë‹¤. 

useEffect(ì´í™íŠ¸ í•¨ìˆ˜, ì˜ì¡´ì„± ë°°ì—´); 


- ë‹¤ìŒì€ ì´í™íŠ¸ í•¨ìˆ˜ê°€ mount, unmountì‹œì— í•œ ë²ˆì”©ë§Œ ì‹¤í–‰ëœë‹¤. 

useEffect(ì´í™íŠ¸ í•¨ìˆ˜, []); 


- ë‹¤ìŒì€ ì»´í¬ë„ŒíŠ¸ê°€ ì—…ë°ì´íŠ¸ë  ë•Œë§ˆë‹¤ í˜¸ì¶œëœë‹¤. 

useEffect(ì´í™íŠ¸ í•¨ìˆ˜); 


- ë‹¤ìŒì€ ì»´í¬ë„ŒíŠ¸ê°€ unmountë  ë•Œ í˜¸ì¶œëœë‹¤. 

useEffect(() => {
// ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸ë  ë•Œ ì‹¤í–‰ë˜ëŠ” ì½”ë“œ

// ë°˜í™˜ëœ í•¨ìˆ˜ëŠ” ì–¸ë§ˆìš´íŠ¸ ì‹œ ì‹¤í–‰ëœë‹¤.
return () =>
{ console.log('ì»´í¬ë„ŒíŠ¸ê°€ ì–¸ë§ˆìš´íŠ¸ë  ë•Œ ì •ë¦¬ ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.');
};
}, []); // ë¹ˆ ì˜ì¡´ì„± ë°°ì—´ì„ ì „ë‹¬í•˜ì—¬ ë§ˆìš´íŠ¸ë  ë•Œ í•œ ë²ˆë§Œ ì‹¤í–‰


ì •ë¦¬í•˜ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤. 

useEffect(() -> {
  // ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸ ëœ ì´í›„, 
  // ì˜ì¡´ì„± ë°°ì—´ì— ìˆëŠ” ë³€ìˆ˜ë“¤ ì¤‘ í•˜ë‚˜ë¼ë„ ê°’ì´ ë³€ê²½ë˜ì—ˆì„ ë•Œ ì‹¤í–‰ëœë‹¤. 
  // ì˜ì¡´ì„± ë°°ì—´ì— ë¹ˆ ë°°ì—´( [] )ì„ ë„£ìœ¼ë©´ ë§ˆìš´íŠ¸ì™€ ì–¸ë§ˆìš´íŠ¸ì‹œì— ë‹¨ í•œ ë²ˆì”©ë§Œ ì‹¤í–‰ëœë‹¤. 
  // ì˜ì¡´ì„± ë°°ì—´ ìƒëµ ì‹œ ì»´í¬ë„ŒíŠ¸ ì—…ë°ì´íŠ¸ ì‹œë§ˆë‹¤ ì‹¤í–‰ëœë‹¤. 
  . . .

  return () => {
    // ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸ í•´ì œë˜ê¸° ì „ì— ì‹¤í–‰ëœë‹¤. 
    . . .
  }
}, [ì˜ì¡´ì„± ë³€ìˆ˜1, ì˜ì¡´ì„± ë³€ìˆ˜2, . . . ]); 




ì—¬ê¸°ì„œ useEffectëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ë  ë•Œë§ˆë‹¤ ì‹¤í–‰ëœë‹¤. ê·¸ëŸ¬ë‚˜ ì˜ì¡´ì„± ë°°ì—´ì´ ë¹„ì–´ ìˆê¸° ë•Œë¬¸ì— ì–´ë–¤ íŠ¹ì •í•œ ìƒíƒœì˜ ë³€ê²½ì„ ê°ì§€í•˜ì§€ ì•Šê³  í•­ìƒ ì‹¤í–‰ëœë‹¤. 

import React, { useState, useEffect } from 'react';
 
const Info = () => {
  const [name, setName] = useState('');
  const [nickname, setNickname] = useState('');
  useEffect(() => {
    console.log('ë Œë”ë§ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!');
    console.log({
      name,
      nickname
    });
  });
 
  const onChangeName = e => {
    setName(e.target.value);
  };
 
  const onChangeNickname = e => {
    setNickname(e.target.value);
  };
 
  return (
    (...)
  );
};
 
export default Info;




useReducer

useStateë³´ë‹¤ ë” ë‹¤ì–‘í•œ ì»´í¬ë„ŒíŠ¸ ìƒí™©ì— ë”°ë¼ ë‹¤ì–‘í•œ ìƒíƒœë¥¼ ë‹¤ë¥¸ ê°’ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•´ ì£¼ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•œë‹¤. 



ğŸ“Œ ë¦¬ë“€ì„œ

í˜„ì¬ ìƒíƒœ, ê·¸ë¦¬ê³  ì—…ë°ì´íŠ¸ë¥¼ ìœ„í•´ í•„ìš”í•œ ì •ë³´ë¥¼ ë‹´ì€ ì•¡ì…˜(action) ê°’ì„ ì „ë‹¬ë°›ì•„ ìƒˆë¡œìš´ ìƒíƒœë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤. ë¦¬ë“€ì„œ í•¨ìˆ˜ì—ì„œ ìƒˆë¡œìš´ ìƒíƒœë¥¼ ë§Œë“¤ ë•ŒëŠ” ë°˜ë“œì‹œ ë¶ˆë³€ì„±ì„ ì§€ì¼œ ì£¼ì–´ì•¼ í•œë‹¤. 

function reducer(state, action) {
return { ... }; // ë¶ˆë³€ì„±ì„ ì§€í‚¤ë©´ì„œ ì—…ë°ì´íŠ¸í•œ ìƒˆë¡œìš´ ìƒíƒœë¥¼ ë°˜í™˜í•œë‹¤.
}


ğŸ“Œ ì•¡ì…˜ ê°’ì˜ í˜•íƒœ 

useReducerì—ì„œ ì‚¬ìš©í•˜ëŠ” ì•¡ì…˜ ê°ì²´ëŠ” ë°˜ë“œì‹œ typeì„ ì§€ë‹ˆê³  ìˆì„ í•„ìš”ê°€ ì—†ë‹¤. ê°ì²´ê°€ ì•„ë‹ˆë¼ ë¬¸ìì—´ì´ë‚˜ ìˆ«ìì—¬ë„ ìƒê´€ì—†ë‹¤.

{
  type: 'INCREMENT',
  // ë‹¤ë¥¸ ê°’ë“¤ì´ í•„ìš”í•˜ë‹¤ë©´ ì¶”ê°€ë¡œ ë“¤ì–´ê°„ë‹¤.
}




useReducerë¥¼ í™œìš©í•˜ì—¬ ìƒíƒœ ê´€ë¦¬ë¥¼ ìˆ˜í–‰í•˜ê³ , ë²„íŠ¼ í´ë¦­ì— ë”°ë¼ ì¹´ìš´í„° ê°’ì„ ì¦ê°€ ë˜ëŠ” ê°ì†Œì‹œì¼œ ë³¸ë‹¤. 

import React, { useReducer } from 'react';

// Reducer í•¨ìˆ˜
const reducer = (state, action) => {
  switch (action.type) {
    case 'INCREMENT':
      return { count: state.count + 1 };
    case 'DECREMENT':
      return { count: state.count - 1 };
    default:
      return state;
  }
};

const Counter = () => {
  // useReducerë¥¼ ì‚¬ìš©í•˜ì—¬ ìƒíƒœì™€ ë””ìŠ¤íŒ¨ì¹˜ í•¨ìˆ˜ë¥¼ ì–»ëŠ”ë‹¤.
  const [state, dispatch] = useReducer(reducer, { count: 0 }); // ì¸ìë¡œ reducer í•¨ìˆ˜, ì´ˆê¸° ìƒíƒœ ì „ë‹¬

  return (
    <div>
      <p>Count: {state.count}</p>
      <button onClick={() => dispatch({ type: 'INCREMENT' })}>Increment</button>
      <button onClick={() => dispatch({ type: 'DECREMENT' })}>Decrement</button>
    </div>
  );
};

export default Counter;




useMemo

Memoized valueë¥¼ ë¦¬í„´í•˜ëŠ” Hookì´ë‹¤.

í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œ ë°œìƒí•˜ëŠ” ì—°ì‚°ì„ ìµœì í™”í•  ë•Œ ì‚¬ìš©í•œë‹¤. 

ì¼ë°˜ì ìœ¼ë¡œ ë Œë”ë§ì´ ì¼ì–´ë‚˜ëŠ” ë™ì•ˆ ì‹¤í–‰ë¼ì„œëŠ” ì•ˆë  ì‘ì—…ì„ useMemoì˜ í•¨ìˆ˜ì— ë„£ìœ¼ë©´ ì•ˆ ëœë‹¤. (ex. ì‚¬ì´ë“œ ì´í™íŠ¸)



ğŸ“Œ Memoized value

ì—°ì‚°ëŸ‰ì´ ë§ì´ ë“œëŠ” í•¨ìˆ˜ì˜ í˜¸ì¶œ ê²°ê³¼ë¥¼ ì €ì¥í•´ ë‘ëŠ” ê°’ì´ë‹¤.

ì´í›„ ê°™ì€ ì…ë ¥ ê°’ìœ¼ë¡œ í•¨ìˆ˜ë¥¼ í˜¸í’€í•˜ë©´, ìƒˆë¡œ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì§€ ì•Šê³  ì´ì „ì— ì €ì¥í•´ ë†¨ë˜ í˜¸ì¶œ ê²°ê³¼ë¥¼ ë°”ë¡œ ë°˜í™˜í•  ìˆ˜ ìˆë‹¤. 



ğŸ“Œì‚¬ìš©ë²•

const memoizedValue = useMemo(
  () => {
    // ì—°ì‚°ëŸ‰ì´ ë†’ì€ ì‘ì—…ì„ ìˆ˜í–‰í•˜ì—¬ ê²°ê³¼ë¥¼ ë°˜í™˜ 
    return computeExpensiveValue(ì˜ì¡´ì„± ë³€ìˆ˜1, ì˜ì¡´ì„± ë³€ìˆ˜2); 
  }, 
  [ì˜ì¡´ì„± ë³€ìˆ˜1, ì˜ì¡´ì„± ë³€ìˆ˜2]
); 


âœ”ï¸ ì˜ì¡´ì„± ë°°ì—´ì— ë“¤ì–´ìˆëŠ” ë³€ìˆ˜ê°€ ë³€í–ˆì„ ê²½ìš°ì—ë§Œ ìƒˆë¡œ creatí•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ ê²°ê³¼ê°’ì„ ë°˜í™˜í•œë‹¤. 

âœ”ï¸ ì˜ì¡´ì„± ë°°ì—´ì„ ë„£ì§€ ì•Šì„ ê²½ìš°, ë§¤ ë Œë”ë§ ë–„ë§ˆë‹¤ í•¨ìˆ˜ê°€ ì‹¤í–‰ëœë‹¤. 

âœ”ï¸ ì˜ì¡´ì„± ë°°ì—´ì´ ë¹ˆ ë°°ì—´ì¼ ê²½ìš°, ì»´í¬ë„ŒíŠ¸ ë§ˆìš´íŠ¸ ì‹œì—ë§Œ í•¨ìˆ˜ê°€ ì‹¤í–‰ëœë‹¤. 





ë¦¬ìŠ¤íŠ¸ì— ìˆ«ìë¥¼ ì¶”ê°€í•˜ë©´ ì¶”ê°€ëœ ìˆ«ìë“¤ì˜ í‰ê· ì„ ë³´ì—¬ ì£¼ëŠ” í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ë¥¼ ì‘ì„±í•´ ë³¸ë‹¤.

import React, { useState } from 'react';
 
const getAverage = numbers => {
  console.log('í‰ê· ê°’ ê³„ì‚° ì¤‘..');
  if (numbers.length === 0) return 0;
  const sum = numbers.reduce((a, b) => a + b);
  return sum / numbers.length;
};
 
const Average = () => {
  const [list, setList] = useState([]);
  const [number, setNumber] = useState('');
 
  const onChange = e => {
    setNumber(e.target.value);
  };
  const onInsert = e => {
    const nextList = list.concat(parseInt(number));
    setList(nextList);
    setNumber('');
  };
 
  return (
    <div>
      <input value={number} onChange={onChange} />
      <button onClick={onInsert}>ë“±ë¡</button>
      <ul>
        {list.map((value, index) => (
          <li key={index}>{value}</li>
        ))}
      </ul>
      <div>
        <b>í‰ê· ê°’:</b> {getAverage(list)}
      </div>
    </div>
  );
};
 
export default Average;




useCallback

useCallbackì€ useMemoì™€ ìƒë‹¹íˆ ë¹„ìŠ·í•œ í•¨ìˆ˜ì´ì§€ë§Œ, ê°’ì´ ì•„ë‹Œ í•¨ìˆ˜ë¥¼ ë°˜í™˜í•œë‹¤. 

ì£¼ë¡œ ë Œë”ë§ ì„±ëŠ¥ì„ ìµœì í™”í•´ì•¼ í•˜ëŠ” ìƒí™©ì—ì„œ ì‚¬ìš©í•œë‹¤.

ì´ Hookì„ ì‚¬ìš©í•˜ë©´ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ í•¨ìˆ˜ë¥¼ í•„ìš”í•  ë•Œë§Œ ìƒì„±í•  ìˆ˜ ìˆë‹¤.

íŠ¹ì • ë³€ìˆ˜ì˜ ê°’ì´ ë³€í•  ë•Œë§Œ í•¨ìˆ˜ë¥¼ ë‹¤ì‹œ ì •ì˜í•˜ë„ë¡ í•œë‹¤. 



ğŸ“Œì‚¬ìš©ë²•

const memoizedCallback = useCallback( 
  () => {
    doSomething(ì˜ì¡´ì„± ë³€ìˆ˜1, ì˜ì¡´ì„± ë³€ìˆ˜2); // ì½œë°± 
  },
  [ì˜ì¡´ì„± ë³€ìˆ˜1, ì˜ì¡´ì„± ë³€ìˆ˜2] // ë³€ê²½ ì‹œ ì½œë°± í•¨ìˆ˜ ë°˜í™˜ 
); 


ë”°ë¼ì„œ ì•„ë˜ ë‘ ì¤„ì˜ ì½”ë“œëŠ” ë™ì¼í•œ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•œë‹¤. 

useCallback(í•¨ìˆ˜, ì˜ì¡´ì„± ë°°ì—´); 
useMemo(() => í•¨ìˆ˜, ì˜ì¡´ì„± ë°°ì—´); 




ìœ„ì—ì„œ êµ¬í˜„í•œ Average ì»´í¬ë„ŒíŠ¸ëŠ” onChangeì™€ onInsertë¼ëŠ” í•¨ìˆ˜ë¥¼ ì„ ì–¸í•´ ì£¼ì—ˆë‹¤. ì´ë ‡ê²Œ ì„ ì–¸í•˜ë©´ ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§ë  ë•Œë§ˆë‹¤ ì´ í•¨ìˆ˜ë“¤ì´ ìƒˆë¡œ ìƒì„±ëœë‹¤. ëŒ€ë¶€ë¶„ì˜ ê²½ìš° ì´ëŸ¬í•œ ë°©ì‹ì€ ë¬¸ì œì—†ì§€ë§Œ, ì»´í¬ë„ŒíŠ¸ì˜ ë Œë”ë§ì´ ìì£¼ ë°œìƒí•˜ê±°ë‚˜ ë Œë”ë§í•´ì•¼ í•  ì»´í¬ë„ŒíŠ¸ì˜ ê°œìˆ˜ê°€ ë§ì•„ì§€ë©´ ì´ ë¶€ë¶„ì„ ìµœì í™”í•´ ì£¼ëŠ” ê²ƒì´ ì¢‹ë‹¤. 



 useCallbackì„ ì‚¬ìš©í•˜ì—¬ Average ì»´í¬ë„ŒíŠ¸ë¥¼ ìµœì í™”í•´ ë³¸ë‹¤. 

import React, { useState, useCallback } from 'react';

const getAverage = numbers => {
  console.log('í‰ê· ê°’ ê³„ì‚° ì¤‘..');
  if (numbers.length === 0) return 0;
  const sum = numbers.reduce((a, b) => a + b);
  return sum / numbers.length;
};

const Average = () => {
  const [list, setList] = useState([]);
  const [number, setNumber] = useState('');

  const onChange = useCallback(e => {
    setNumber(e.target.value);
  }, []); // ë¹ˆ ë°°ì—´ì„ ì „ë‹¬í•˜ì—¬ ì»´í¬ë„ŒíŠ¸ê°€ ì²˜ìŒ ë§ˆìš´íŠ¸ë  ë•Œë§Œ í•¨ìˆ˜ë¥¼ ìƒì„±

  const onInsert = useCallback(() => {
    const nextList = list.concat(parseInt(number));
    setList(nextList);
    setNumber('');
  }, [list, number]); // list ë˜ëŠ” numberê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ í•¨ìˆ˜ë¥¼ ìƒì„±

  return (
    <div>
      <input value={number} onChange={onChange} />
      <button onClick={onInsert}>ë“±ë¡</button>
      <ul>
        {list.map((value, index) => (
          <li key={index}>{value}</li>
        ))}
      </ul>
      <div>
        <b>í‰ê· ê°’:</b> {getAverage(list)}
      </div>
    </div>
  );
};

export default Average;




useRef

useRefì€ Referenceë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•œ Hookì´ë‹¤. 



ğŸ“Œ Reference 

íŠ¹ì • ì»´í¬ë„ŒíŠ¸ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ê°ì²´ì´ë‹¤. useRefëŠ” ì´ Reference ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.

Referenceê°ì²´ì—ëŠ” currentë¼ëŠ” ì†ì„±ì´ ìˆëŠ”ë°, ì´ëŠ” í˜„ì¬ ì°¸ì¡°í•˜ê³  ìˆëŠ” ì—˜ë¦¬ë¨¼íŠ¸ë¥¼ ì˜ë¯¸í•œë‹¤.

useRefë¥¼ ì‚¬ìš©í•˜ì—¬ Referenceë¥¼ ì„¤ì •í•˜ë©´ useRefë¥¼ í†µí•´ ë§Œë“  ê°ì²´ ì•ˆì˜ current ê°’ì´ ì‹¤ì œ ì—˜ë¦¬ë¨¼íŠ¸ë¥¼ ê°€ë¦¬í‚¨ë‹¤. 

 refObject.current 


ğŸ“Œì‚¬ìš©ë²•

ì´ˆê¹ƒê°’ìœ¼ë¡œ ì´ˆê¸°í™”ëœ Reference ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤. 

ë§Œì•½ ì´ˆê¹ƒê°’ì´ nullì´ë¼ë©´, currentì˜ ê°’ì´ nullì¸ Reference ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤. 

ì´ ê°ì²´ëŠ” ì»´í¬ë„ŒíŠ¸ì˜ mountí•´ì œ ì „ê¹Œì§€ëŠ” ê³„ì† ìœ ì§€ëœë‹¤.

const refContainer = useRef(ì´ˆê¹ƒê°’); 


Average ì»´í¬ë„ŒíŠ¸ì—ì„œ ë“±ë¡ ë²„íŠ¼ì„ ëˆŒë €ì„ ë•Œ í¬ì»¤ìŠ¤ê°€ ì¸í’‹ ìª½ìœ¼ë¡œ ë„˜ì–´ê°€ë„ë¡ ì½”ë“œë¥¼ ì‘ì„±í•´ ë³¸ë‹¤. 

import React, { useState, useMemo, useCallback, useRef } from 'react';
 
const getAverage = numbers => {
  console.log('í‰ê· ê°’ ê³„ì‚° ì¤‘..');
  if (numbers.length === 0) return 0;
  const sum = numbers.reduce((a, b) => a + b);
  return sum / numbers.length;
};
 
const Average = () => {
  const [list, setList] = useState([]);
  const [number, setNumber] = useState('');
  const inputEl = useRef(null);
 
  const onChange = useCallback(e => {
    setNumber(e.target.value);
  }, []); // ì»´í¬ë„ŒíŠ¸ê°€ ì²˜ìŒ ë Œë”ë§ë  ë•Œë§Œ í•¨ìˆ˜ ìƒì„±
const onInsert = useCallback(() => {
    const nextList = list.concat(parseInt(number));
    setList(nextList);
    setNumber('');
    inputEl.current.focus();
  }, [number, list]); // number í˜¹ì€ listê°€ ë°”ë€Œì—ˆì„ ë•Œë§Œ í•¨ìˆ˜ ìƒì„±
 
  const avg = useMemo(() => getAverage(list), [list]);
 
  return (
    <div>
      <input value={number} onChange={onChange} ref={inputEl} />
      <button onClick={onInsert}>ë“±ë¡</button>
      <ul>
        {list.map((value, index) => (
          <li key={index}>{value}</li>
        ))}
      </ul>
      <div>
        <b>í‰ê· ê°’:</b> {avg}
      </div>
    </div>
  );
};
 
export default Average;




ì»¤ìŠ¤í…€ Hooks ë§Œë“¤ê¸°

ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë¹„ìŠ·í•œ ê¸°ëŠ¥ì„ ê³µìœ í•  ê²½ìš°, ì´ë¥¼ ìì‹ ë§Œì˜ Hookìœ¼ë¡œ ì‘ì„±í•˜ì—¬ ë¡œì§ì„ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

ê¸°ì¡´ì— Info ì»´í¬ë„ŒíŠ¸ì—ì„œ ì—¬ëŸ¬ ê°œì˜ ì¸í’‹ì„ ê´€ë¦¬í•˜ê¸° ìœ„í•´ useReducerë¡œ ì‘ì„±í–ˆë˜ ë¡œì§ì„ useInputsë¼ëŠ” Hookìœ¼ë¡œ ë”°ë¡œ ë¶„ë¦¬í•´ ë³¸ë‹¤.



ğŸ“Œ Hookì˜ ê·œì¹™ 

1. ë¬´ì¡°ê±´ ìµœìƒìœ„ ë ˆë²¨ì—ì„œë§Œ í˜¸ì¶œí•´ì•¼ í•œë‹¤. 

2. ë¦¬ì•¡íŠ¸ í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ì—ì„œë§Œ í˜¸ì¶œí•´ì•¼ í•œë‹¤. 

eslint-plugin-react-hooks í”ŒëŸ¬ê·¸ì¸ì„ ì°¸ê³ í•˜ë©´ ê·œì¹™ì„ ì§€í‚¤ëŠ” ë° ë„ì›€ì´ ëœë‹¤. 





src ë””ë ‰í„°ë¦¬ì— useInputs.js íŒŒì¼ì„ ë§Œë“¤ê³  ë‹¤ìŒ ì½”ë“œë¥¼ ì‘ì„±í•´ ë³´ì.

import { useReducer } from 'react';
 
function reducer(state, action) {
  return {
    ...state,
    [action.name]: action.value
  };
}
 
export default function useInputs(initialForm) {
  const [state, dispatch] = useReducer(reducer, initialForm);
  const onChange = e => {
    dispatch(e.target);
  };
  return [state, onChange];
}




ë‹¤ë¥¸ Hooks

ì´ë²ˆì— ì»¤ìŠ¤í…€ Hooksë¥¼ ë§Œë“¤ì–´ì„œ ì‚¬ìš©í–ˆë˜ ê²ƒì²˜ëŸ¼, ë‹¤ë¥¸ ê°œë°œìê°€ ë§Œë“  Hooksë„ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ì„¤ì¹˜í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

ë‹¤ë¥¸ ê°œë°œìê°€ ë§Œë“  ë‹¤ì–‘í•œ Hooks ë¦¬ìŠ¤íŠ¸ëŠ” ë‹¤ìŒ ë§í¬ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.



â€¢ https://nikgraf.github.io/react-hooks/

â€¢ https://github.com/rehooks/awesome-react-hooks

